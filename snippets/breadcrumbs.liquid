{% assign tpl = template | split: '-' | first  %}
<div class="container">
    <div class="row">
        <div class="col-12">
            {% unless template == 'index' or template == 'cart' or template == 'list-collections' or template == '404' %}
                <nav class="breadcrumbs" role="navigation" aria-label="breadcrumbs">
                    <ol class="breadcrumbs__list">
                        <li class="breadcrumbs__item">
                            <a href="/" class="breadcrumbs__link" title="Home">Home</a>
                        </li>
                        {% case tpl %}
                            {% when 'page' %}
                                <li class="breadcrumbs__item">
                                    <a href="{{ page.url }}" class="breadcrumbs__link" aria-current="page">{{ page.title }}</a>
                                </li>

                            {% when 'product' %}
                                {% if collection.url %}
                                    <li class="breadcrumbs__item">
                                        <a href="{{ collection.url }}" class="breadcrumbs__link">{{ collection.title }}</a>
                                    </li>
                                {% endif %}

                                <li class="breadcrumbs__item">
                                    <a href="{{ product.url }}" class="breadcrumbs__link" aria-current="page">{{ product.title }}</a>
                                </li>

                            {% when 'collection' and collection.handle %}
                                {% if current_tags %}
                                    <li class="breadcrumbs__item">
                                        <a href="{{ collection.url }}" class="breadcrumbs__item">{{ collection.title }}</a>
                                    </li>
                                    <li class="breadcrumbs__item">
                                      {% capture tag_url %}{{ collection.url }}/{{ current_tags | join: "+"}}{% endcapture %}
                                      <a href="{{ tag_url }}" class="breadcrumbs__link" aria-current="page">{{ current_tags | join: " + "}}</a>
                                    </li>
                                  {% else %}
                                    <li class="breadcrumbs__item">
                                      <a href="{{ collection.url }}" class="breadcrumbs__link" aria-current="page">{{ collection.title }}</a>
                                    </li>
                                  {% endif %}

                            {% when 'blog' %}
                                {% if current_tags %}
                                    <li class="breadcrumbs__item">
                                        <a href="{{ blog.url }}" class="breadcrumbs__link">{{ blog.title }}</a>
                                    </li>
                                    <li class="breadcrumbs__item">
                                      {% capture tag_url %}{{blog.url}}/tagged/{{ current_tags | join: "+" }}{% endcapture %}
                                      <a href="{{ tag_url }}" class="breadcrumbs__link" aria-current="page">{{ current_tags | join: " + " }}</a>
                                    </li>
                                {% else %}
                                    <li class="breadcrumbs__item">
                                      <a href="{{ blog.url }}" class="breadcrumbs__link" aria-current="page">{{ blog.title }}</a>
                                    </li>
                                {% endif %}

                            {% when 'article' %}
                                <li class="breadcrumbs__item">
                                    <a href="{{ blog.url }}" class="breadcrumbs__link">{{ blog.title }}</a>
                                </li>
                                <li class="breadcrumbs__item">
                                    <a href="{{ article.url }}" class="breadcrumbs__link" aria-current="page">{{ article.title }}</a>
                                </li>

                            {% else %}
                                <li class="breadcrumbs__item" aria-current="page">
                                    <a href="{{ request.path }}" class="breadcrumbs__link" aria-current="page">{{ page_title }}</a>
                                </li>

                        {% endcase %}
                    </ol>
                </nav>  
            {% endunless %}
        </div>
    </div>
</div>
